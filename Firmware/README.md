# GeckoTRX-Front

GeckoTRX Front Assembly Design Files

## Getting Started

GeckoTRX is a palm-sized Software Defined Radio with a focus on my own education and be a fun project in my spare time. The repository you are looking at is hosting the front assembly of the project, both hardware design files and software source files required to build the project. If you haven't done any programming or software development yet, or just want to download the latest release of the firmware, you may want to have a look at the [Quickstart Guide](#).


### Prerequisites

In order to view the hardware design files, you will need to obtain a copy of [Autodesk's EagleCAD](https://www.autodesk.com/products/eagle/) which is freely available to view the hardware design files. 

The front assembly uses a EFM8BB1 microcontroller which features a 8051 core alongside with the neccessary peripherals to drive the LED's to indicate the transceivers status.

For compilation the open source [small device compiler](http://sdcc.sourceforge.net/) and its libraries will be used in conjunction with a cmake style build environment to generate the Makefiles used to compile the code. cmake is also favored because it allows easy out-of-tree builds which keep the sourcetree clean. To install those tools in an apt based package management system, run the following command
```
sudo apt-get install autoconf-archive gnu-standards autoconf-doc libtool gettext m4-doc sdcc git
``` 

To flash the firmware, we will have two choices: Either by using a JTAG Adapter like the JLink from SEGGER or the firmware update method implemented by the main controller which sadly is not implemented yet. Feel free to head over to the [GeckoTRX-Top Repository](#) and contribute!
Using a JLink, drivers need to be installed first. Go to the [Segger Downloads page](https://www.segger.com/downloads/jlink/) and fetch the latest driver suitable for your distribution. To install the driver in an apt based distribution, execute
```
sudo dpkg -i /path/to/JLink_Linux_x86_64.deb
```

This completes your development environment. You can, of course use any JTAG adapter implementation able to communicate via Silicon Labs C2 interface. Depending on the adapter, the procedures to download the code into the integrated circuit are diffeent. Please consult the documentation of your devices' manufacturer on how to use it or help extending this document :)

The last step to be able to get the firmware build is to clone the repository using

```
git clone https://github.com/einball/GeckoTRX-Front
cd GeckoTRX-Front/
```

That's it! 


### Building the firmware

Since we do not want to clutter the source directories unneccessarily with build files generated by the compiler all over the place, cmake is used to build the firmware in a separate build directorywhich will be created and switched to next:

```
mkdir build/
cd build/
```

Since cmake does not know about the 8051 architecture build process, we need to give it some information about the toolchain using `CMAKE_TOOLCHAIN_FILE` and refer it to the top level folder, where the CMakeLists.txt file is located. 

```
cmake -DCMAKE_TOOLCHAIN_FILE=sdcc-toolchain.cmake ../
```

Now the makefiles should have been generated. To build the firmware, simply run `make` and the compiler will build the project. For other available options, please run `make help`.


### Flashing the firmware


No firmware has been flashed yet. If so, try

```
make flash
```

## Versioning

We use [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository](https://github.com/your/project/tags). 


## Built with 

* [sdcc](http://sdcc.sourceforge.net/)
* [EagleCAD](https://www.autodesk.com/products/eagle/)


## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details. 

Exceptions to this license rules are specified in the individual files, eg files licensed by the manufacturer (Silabs/Keil) are excluded of the MIT license. Please see the individual files for their licenses.
